{"version":3,"sources":["webpack:///webpack/bootstrap a008f859e7dd51ddfed0","webpack:///./lib/game.js","webpack:///./lib/new_game.js","webpack:///./lib/start_page.js","webpack:///./lib/enemy.js","webpack:///./lib/jumper.js","webpack:///./lib/jumpers.js","webpack:///./lib/platform.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;AChEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,+BAA+B;AAC1C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;;AAEA;AACA,kCAAkC,qBAAqB;AACvD;AACA;AACA,kCAAkC,UAAU;AAC5C;AACA;AACA;;AAEA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oCAAoC,qBAAqB;AACzD;AACA;AACA,oCAAoC,UAAU;;AAE9C;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAW,WAAW;AACtB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,6CAA6C,UAAU;AACvD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACtPA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;AC7BA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC/EA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,uCAAuC;AACtD,mBAAmB;AACnB,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC1BA;AACA;AACA;AACA;AACA,qBAAqB;;AAErB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,wCAAwC;AACvD,mBAAmB;AACnB,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,wCAAwC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,kBAAkB,sCAAsC;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;;;;;;;;;;;;AClDA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;;;;;;;ACPD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a008f859e7dd51ddfed0","import Jumper from './jumper.js';\nimport Platform from './platform.js';\nimport newGame from './new_game.js';\nimport Enemy from './enemy.js';\n\nclass Game {\n  constructor(stage, world, cb) {\n    this.stage = stage;\n    this.world = world;\n    this.platforms = [];\n    this.jumper = new Jumper(stage);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.tick = this.tick.bind(this);\n\n    this.lastPlatformX = 0;\n    this.generatePlatform();\n    this.movePlatformToEnd = this.movePlatformToEnd.bind(this);\n\n    this.handleScore();\n\n    this.handleNewGame = this.handleNewGame.bind(this);\n    this.handleStart = cb;\n\n    this.enemies = [];\n    this.generateEnemy();\n\n    this.life = 25;\n  }\n\n  generatePlatform(){\n    if (this.platforms.length < 4) {\n      const platform = new Platform(this.stage,this.world);\n      this.platforms.push(platform);\n      let x = Math.random()*100 + 350;\n\n      for (let i = 0; i < 2; i++) {\n        let y = Math.random()*200 + 350;\n        let newPlatform = new Platform(this.stage, this.world, x, y);\n        this.platforms.push(newPlatform);\n\n        this.lastPlatformX = x;\n        x += Math.random()*100 + 350;\n      }\n    }\n  }\n\n  movePlatformToEnd(platform, jumperBounds) {\n    if (jumperBounds.x > platform.platform.x + 600) {\n      this.lastPlatformX += Math.random()*100 + 350;\n      platform.platform.x = this.lastPlatformX;\n      platform.platform.y = Math.random()*200 + 350;\n      this.stage.update();\n    }\n  }\n\n  generateEnemy(){\n    let x = 6000;\n\n    for (let i = 0; i < 4; i++) {\n      let y = Math.random()*300 + 200;\n      x += Math.random()*100 + 400;\n      let enemy = new Enemy(this.stage, this.world, x, y);\n      this.enemies.push(enemy);\n\n      this.lastEnemy = x;\n    }\n  }\n\n  moveEnemyToEnd(enemy, jumperBounds) {\n    if (jumperBounds.x > enemy.enemy.x + 600) {\n      this.lastEnemy += Math.random()*100 + 700;\n      enemy.enemy.x = this.lastEnemy;\n      enemy.enemy.y = Math.random()*200;\n      this.stage.update();\n    }\n  }\n\n  tick(e) {\n    const { doubleJump, velocity, jumper } = this.jumper;\n    let newY;\n    let platformX;\n\n    if (!this.onGround || doubleJump) {\n      newY = velocity.y += 1;\n    }\n\n    document.removeEventListener('keydown', this.handleNewGameKey);\n    document.removeEventListener('keydown', this.handleStart);\n\n    let jumperBounds = jumper.getTransformedBounds();\n    this.platforms.forEach((platform) => {\n      let platformBounds = platform.platform.getTransformedBounds();\n      this.movePlatformToEnd(platform, jumperBounds);\n\n      if (jumperBounds.intersects(platformBounds)) {\n        if (platformBounds.y > jumperBounds.y && velocity.y > 0 && platformBounds.y > this.lastPositionY + 100) {\n          jumper.y = platformBounds.y - 100;\n          this.onGround = true;\n          platformX = platformBounds.x + platformBounds.width;\n        }\n      }\n    });\n\n    this.enemies.forEach((enemy) => {\n      enemy.enemy.x -= 15;\n      enemy.enemy.y += Math.floor(Math.random()*1);\n\n      let enemyBounds = enemy.enemy.getTransformedBounds();\n      this.moveEnemyToEnd(enemy, jumperBounds);\n\n      if (jumperBounds.intersects(enemyBounds) && jumperBounds.x > enemyBounds.x - 5) {\n        this.life -= 1;\n        if (this.life === 0) {\n          this.handleGameOver();\n          this.gameover.y = 100;\n          this.gameover.x = jumper.x - 50;\n          this.gamereset.y = 200;\n          this.gamereset.x = jumper.x - 125;\n          this.stage.addChild(this.gameover);\n          this.stage.addChild(this.gamereset);\n          createjs.Ticker.removeEventListener('tick', this.tick);\n          this.handleNewGame();\n        }\n      }\n\n    });\n\n    if (this.onGround) {\n      this.onGround = true;\n      jumper.x += velocity.x;\n\n      if (jumper.x > 1000 & velocity.x < 6) {\n        velocity.x += 1;\n      } else if( jumper.x > 5000 & velocity.x < 8) {\n        velocity.x += 1;\n      } else if ( jumper.x > 10000 & velocity.x < 10) {\n        velocity.x += 1;\n      } else if (jumper.x > 20000 & velocity.x < 13) {\n        velocity.x += 1;\n      } else if (jumper.x > 40000 & velocity.x < 25) {\n        velocity.x += 1;\n      }\n\n      this.score.x = jumper.x - 250;\n      this.score.text = `Score: ${Math.round(jumper.x)}`;\n      this.lifeText.x = jumper.x - 250;\n      this.lifeText.y = 50;\n      this.lifeText.text = `HP: ${this.life}`;\n      if (jumper.x > this.stage.canvas.width*0.3) {\n        this.stage.x = this.stage.canvas.width*0.3 - jumper.x ;\n      }\n\n      if (platformX < jumper.getTransformedBounds().x) {\n        this.onGround = false;\n      }\n\n    } else {\n\n      let jumperY = jumper.y + newY;\n      let jumperX = jumper.x + velocity.x;\n\n      if (jumperY >= 600) {\n        this.handleGameOver();\n        this.gameover.y = 100;\n        this.gameover.x = jumper.x - 50;\n        this.gamereset.y = 200;\n        this.gamereset.x = jumper.x - 125;\n        this.stage.addChild(this.gameover);\n        this.stage.addChild(this.gamereset);\n        createjs.Ticker.removeEventListener('tick', this.tick);\n        this.handleNewGame();\n      }\n      if (jumperY < 600 ){\n\n        this.lastPositionY = jumper.y;\n        this.lastPositionX = jumper.x;\n\n        jumper.y += newY;\n        jumper.x += velocity.x;\n        this.score.x = jumper.x - 250;\n        this.score.text = `Score: ${Math.round(jumper.x)}`;\n        this.lifeText.x = jumper.x - 250;\n        this.lifeText.y = 50;\n        this.lifeText.text = `HP: ${this.life}`;\n\n        if (jumper.x > this.stage.canvas.width*0.3) {\n          this.stage.x = this.stage.canvas.width*0.3 - jumper.x ;\n        }\n      }\n    }\n\n    this.stage.update(e);\n  }\n\n  start(){\n    createjs.Ticker.setFPS(60);\n    createjs.Ticker.addEventListener('tick', this.tick);\n    document.addEventListener('keydown', (e) => {\n      if (e.key === 'ArrowUp') {\n        this.handleKeyDown();\n      }\n    });\n  }\n\n  handleNewGame(){\n    document.addEventListener('keydown', this.handleNewGameKey);\n  }\n\n  handleNewGameKey(e) {\n    if (e.key === 'Enter') {\n      // this.stage.removeAllChildren();\n        let game = new newGame();\n        game.startGame();\n      }\n  }\n\n  reset() {\n    this.jumper.y = this.jumper.y - 100;\n    this.jumper.velocity.y = -15;\n  }\n\n  handleKeyDown(e) {\n    const { velocity } = this.jumper;\n    if (this.onGround) {\n      this.onGround = false;\n      this.doubleJump = true;\n      this.reset();\n    } else if (this.doubleJump) {\n      this.doubleJump = false;\n      this.reset();\n    }\n  }\n\n  handleScore(){\n    this.score = new createjs.Text(`Score: 0`, \"40px Arial\");\n    this.lifeText = new createjs.Text(`HP: ${this.life}`, \"40px Arial\");\n    this.stage.addChild(this.score);\n    this.stage.addChild(this.lifeText);\n  }\n\n  handleGameOver(){\n    this.gameover = new createjs.Text('Game Over!', '100px Arial');\n    this.gamereset = new createjs.Text('Press Enter to play again', '60px Arial');\n  }\n}\n\nexport default Game;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/game.js\n// module id = 0\n// module chunks = 0","import Game from './game.js';\nimport StartPage from './start_page.js';\n\nclass newGame {\n  constructor(stage, world) {\n    this.canvas = document.getElementById('jumperCanvas');\n    this.canvas.width = 900;\n    this.canvas.height = 600;\n\n    this.stage = new createjs.Stage(this.canvas);\n    this.world = new createjs.Container();\n\n    this.stage.addChild(this.world);\n  }\n\n  startPage() {\n    this.start = new StartPage(this.stage, this.world);\n    this.start.createPage();\n  }\n\n  startGame(){\n    let intro = document.getElementById('intro');\n    intro.style.visibility = 'hidden';\n    this.canvas.style.background = 'linear-gradient(blue, white';\n    const game = new Game(this.stage, this.world);\n    game.start();\n  }\n}\n\nexport default newGame;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/new_game.js\n// module id = 1\n// module chunks = 0","import Game from './game.js';\n\nclass StartPage {\n  constructor(stage, world){\n    this.stage = stage;\n    this.world = world;\n    this.handleStart = this.handleStart.bind(this);\n  }\n\n  // addToHtmlElements(){\n  //   this.createStartBtn();\n  // }\n  //\n  // createPage() {\n  //   this.addToHtmlElements();\n  // }\n\n  createPage(){\n    // let html = document.createElement('button');\n    // let content = document.createTextNode('Start');\n    // html.appendChild(content);\n    // html.id = 'startBtn';\n    //\n    // let intro  = document.getElementById('intro');\n    // intro.appendChild(html);\n\n    // document.body.appendChild(html);\n    //\n    // let startBtn = new createjs.DOMElement(html);\n    // startBtn.x = 300;\n    // startBtn.y = 300;\n\n    // startBtn.htmlElement.onclick = this.startFunction(startBtn);\n    // debugger\n    // this.htmlElements.push(startBtn);\n\n    this.gameTitle = new createjs.Text(\"Don't Fall!\", 'bold 100px Arial', 'white');\n    this.startGame = new createjs.Text('Press s to start', '28px Arial', 'white');\n    this.directionOne = new createjs.Text('Use up arrow to jump', '28px Arial', 'white');\n    this.directionTwo = new createjs.Text('To double jump, hit the up arrow key twice', '28px Arial', 'white');\n\n    this.gameTitle.y = 100;\n    this.gameTitle.x = 225;\n    this.startGame.y = 400;\n    this.startGame.x = 250;\n    this.directionOne.y = 450;\n    this.directionOne.x = 250;\n    this.directionTwo.y = 500;\n    this.directionTwo.x = 250;\n\n    this.stage.addChild(this.gameTitle);\n    this.stage.addChild(this.startGame);\n    this.stage.addChild(this.directionOne);\n    this.stage.addChild(this.directionTwo);\n\n    this.stage.update();\n\n    document.addEventListener('keydown', this.handleStart\n    );\n  }\n\n  handleStart(e){\n    if (e.key === 's') {\n      let canvas = document.getElementById('jumperCanvas');\n      let intro = document.getElementById('intro');\n      intro.style.visibility = 'hidden';\n\n      this.stage.removeChild(this.gameTitle);\n      this.stage.removeChild(this.startGame);\n      this.stage.removeChild(this.directionOne);\n      this.stage.removeChild(this.directionTwo);\n\n      canvas.style.background = 'linear-gradient(blue, white)';\n      let game = new Game(this.stage, this.world, this.handleStart);\n      game.start();\n    }\n  }\n}\n\nexport default StartPage;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/start_page.js\n// module id = 2\n// module chunks = 0","class EnemyGhost {\n  constructor(stage, world, x, y) {\n    this.stage = stage;\n    this.world = world;\n    this.velocity ={ x: 5, y: 12};\n    this.x = x;\n    this.y = y;\n    this.createImage();\n  }\n\n  createImage() {\n    let spriteSheet = new createjs.SpriteSheet({\n      images: ['assets/enemy1.png'],\n      frames: {width: 64 , height: 64, regX:0, regY:0},\n      animations: { run: [8, 15] }\n    });\n\n    this.enemy = this.world.addChild( new createjs.Sprite(spriteSheet));\n    this.enemy.gotoAndPlay('run');\n    this.enemy.snapToPixel = true;\n    this.enemy.x = this.x;\n    this.enemy.y = this.y;\n    this.stage.update();\n  }\n}\n\nexport default EnemyGhost;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/enemy.js\n// module id = 3\n// module chunks = 0","class Jumper {\n  constructor(stage){\n    this.stage = stage;\n    this.createImage();\n    this.velocity = { x: 5, y: 12};\n\n    this.onGround = false;\n    this.doubleJump = false;\n  }\n\n  createImage() {\n    this.onImageLoaded();\n  }\n\n  onImageLoaded(e) {\n    let spriteSheet = new createjs.SpriteSheet({\n      images: ['assets/stickman.png'],\n      frames: {width: 180, height: 340, regX:0, regY:0},\n      animations: { run: [0, 69, 'run', 2] }\n    });\n\n    this.jumper = this.stage.addChild( new createjs.Sprite(spriteSheet));\n    this.jumper.setTransform(0, 0, 0.3, 0.3);\n    this.jumper.gotoAndPlay('run');\n    this.jumper.y = 100;\n    this.jumper.x = 0;\n\n    // let spriteSheet = new createjs.SpriteSheet({\n    //   images: ['assets/runninghero.png'],\n    //   frames: {width: 100, height: 100, regX:0, regY:0},\n    //   animations: {\n    //     run: {\n    //       frames: [46, 47, 48, 49, 50, 51, 52, 53],\n    //       speed: 0.5\n    //     }\n    //   }\n    // });\n    // let spriteSheet = new createjs.SpriteSheet({\n    //   images: ['assets/pokemon.png'],\n    //   frames: {width: 28, height: 29, regX:0, regY:0},\n    //   animations: {\n    //     run: {\n    //       frames: [3, 17, 31, 45, 59, 73],\n    //       speed: 0.5\n    //     }\n    //   }\n    // });\n  }\n}\n\nexport default Jumper;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/jumper.js\n// module id = 4\n// module chunks = 0","import Game from './game.js';\nimport StartPage from './start_page.js';\nimport newGame from './new_game.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  let game = new newGame();\n  game.startPage();\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/jumpers.js\n// module id = 5\n// module chunks = 0","class Platform {\n  constructor(stage, world, x,y){\n    this.stage = stage;\n    this.world = world;\n    this.createImage();\n\n    if ( x && y) {\n      this.y = y;\n      this.x = x;\n    } else {\n      this.y = 550;\n      this.x = 0;\n    }\n  }\n\n  createImage() {\n    this.image = new Image();\n    this.image.onload = this.onImageLoaded.bind(this);\n    this.image.src = 'assets/platform.png';\n  }\n\n  onImageLoaded(e) {\n    this.platform = new createjs.Bitmap(this.image);\n    this.world.addChild(this.platform);\n    this.platform.y = this.y;\n    this.platform.x = this.x;\n    this.platform.name = 'Platform';\n    this.platform.snapToPixel = true;\n    this.stage.update();\n  }\n}\n\nexport default Platform;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/platform.js\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}